def maxproductsubarray(self,nums):
  pre=suff=1
  result=float('-inf')
  n=len(nums)
  
  
  for i in range(n):
    if pre==0:
      pre=1
    if suff==0:
      suff=1
    pre*=nums[i]
    suff*=nums[n-i-1]
    result=max(result,max(pre,suff))
  return result
